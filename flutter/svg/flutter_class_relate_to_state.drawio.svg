<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1512px" height="1021px" viewBox="-0.5 -0.5 1512 1021" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2024-04-15T00:20:00.750Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/23.1.5 Chrome/120.0.6099.109 Electron/28.1.0 Safari/537.36&quot; etag=&quot;rzyRn9OeKMFt5FA5V6l5&quot; scale=&quot;1&quot; border=&quot;0&quot; version=&quot;23.1.5&quot; type=&quot;device&quot;&gt;&#10;  &lt;diagram id=&quot;C5RBs43oDa-KdzZeNtuy&quot; name=&quot;Page-1&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;-61&quot; dy=&quot;2150&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;WIyWlLk6GJQsqaUBKTNV-0&quot; /&gt;&#10;        &lt;mxCell id=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-0&quot; /&gt;&#10;        &lt;mxCell id=&quot;ii32QF8iiqosXWc2cwsE-11&quot; value=&quot;widgets/framework&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;verticalAlign=top;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2020&quot; y=&quot;-730&quot; width=&quot;1510&quot; height=&quot;1020&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Y-dn0jyy1r7T7T8OJnPv-214&quot; value=&quot;abstract Element&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2992&quot; y=&quot;-640&quot; width=&quot;488&quot; height=&quot;920&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxRectangle x=&quot;230&quot; y=&quot;140&quot; width=&quot;160&quot; height=&quot;26&quot; as=&quot;alternateBounds&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-192&quot; value=&quot;mount()&amp;#xa;..., _lifecycleState = _ElementLifecycle.active, ...&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-214&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;26&quot; width=&quot;488&quot; height=&quot;44&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-189&quot; value=&quot;rebuild()&amp;#xa;-&amp;gt; lifecycleがactiveではない&amp;#xa;または（!dirty &amp;amp;&amp;amp; !force)の場合は&amp;#xa;return&amp;#xa;-&amp;gt; performRebuild()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0000FF;fontStyle=0&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-214&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;70&quot; width=&quot;488&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-188&quot; value=&quot;performRebuild() -&amp;gt; _dirty = false;&amp;#xa;※派生クラスでオーバーライドする際は最後にsuper.peformRebuild()して本処理を&amp;#xa;実行してdirtyをfalseにする利用方法が典型となる。&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0000FF;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-214&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;150&quot; width=&quot;488&quot; height=&quot;58&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;DqbcwK9n9CTES8IInm-H-12&quot; value=&quot;update(covariant Widget newWidget)&amp;#xa;-&amp;gt; _widget = newWidget;&amp;#xa;* これによってwidgetプロパティが&amp;#xa;新しいものに変わる。&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0000FF;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-214&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;208&quot; width=&quot;488&quot; height=&quot;74&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;rdumXzn3qbyCTbAedzcQ-91&quot; value=&quot;updateChild(Element? child,&amp;#xa;Widget? newWidget, Object? newSlot&amp;#xa;)&amp;#xa;1. newWidgetがnullでchildがnullではないならdeactivateChild(child), nullを返す&amp;#xa;final Element newChild&amp;#xa;2. if child != null&amp;#xa;* assertでhotreload対策が入っている（省略）&amp;#xa;2.1 if child.widget == newWidget&amp;#xa;updateSlotForChild()&amp;#xa;newChild = child&amp;#xa;2.2 if child.widget != newWidget &amp;#xa;&amp;amp;&amp;amp; Widget.canUpdate(child.widget, newWidget)&amp;#xa;updateSlotForChild(), child.update(newWidget)&amp;#xa;newChild = child&amp;#xa;2.3 else &amp;#xa;deactivateChild(child),  newChild = inflateWidget(newWidget, newSlot)&amp;#xa;3. childがnullなら&amp;#xa;newChild = inflateWidget(newWidget, newSlot)&amp;#xa;4. 最後にnewChildを返す。&amp;#xa;* この関数はmount時もリビルド時も使用される?&amp;#xa;* 2.1, 2.2, 2.3 あたりは咀嚼できていない。&amp;#xa;なお、子をconstで指定していると親のリビルド時に2.1を通ることが確認できた。&amp;#xa;そうではない場合は2.2を通る。&amp;#xa;&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=default;dashed=1;dashPattern=1 4;fontColor=#0000FF;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-214&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;282&quot; width=&quot;488&quot; height=&quot;340&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;fcG_RnkyS3xr5yL5VtSP-0&quot; value=&quot;canUpdate()&amp;#xa;-&amp;gt; return&amp;#xa;oldWidget.runtimeType == &amp;#xa;newWidget.runtimeType&amp;#xa;        &amp;amp;&amp;amp; oldWidget.key == newWidget.key&amp;#xa;* コメントにも記載してあるがkeyがnullの場合は、オブジェクトが異なっていても&amp;#xa;runtimeTypeが同じであればupdate可能と扱われる。&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=default;dashed=1;dashPattern=1 4;fontColor=#0000FF;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-214&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;622&quot; width=&quot;488&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Y-dn0jyy1r7T7T8OJnPv-245&quot; value=&quot;abstract ComponentElement&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2753.09&quot; y=&quot;-640&quot; width=&quot;183&quot; height=&quot;550&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxRectangle x=&quot;230&quot; y=&quot;140&quot; width=&quot;160&quot; height=&quot;26&quot; as=&quot;alternateBounds&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ii32QF8iiqosXWc2cwsE-267&quot; value=&quot;Widget build()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=5;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-245&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;26&quot; width=&quot;183&quot; height=&quot;34&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-191&quot; value=&quot;mount&amp;#xa;-&amp;gt; super.mount()&amp;#xa;-&amp;gt; _firstBuild()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-245&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;60&quot; width=&quot;183&quot; height=&quot;68&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-181&quot; value=&quot;_firstBuild()&amp;#xa;-&amp;gt; rebuild()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-245&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;128&quot; width=&quot;183&quot; height=&quot;42&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ii32QF8iiqosXWc2cwsE-266&quot; value=&quot;performRebuild()&amp;#xa;-&amp;gt; build()&amp;#xa;-&amp;gt; super.performReBuild()&amp;#xa;-&amp;gt; _child = updateChild(&amp;#xa;_child, built, slot)&amp;#xa;※ buildの結果のウィジェット&amp;#xa;がupdateChildに渡される。&amp;#xa;mount時は、&amp;#xa;updateChild(null, build結果,&amp;#xa;slot)といった形で渡す。&amp;#xa;内部ではinflateWIdget()が&amp;#xa;呼ばれるため、build結果の&amp;#xa;Elementがmountがされる。&amp;#xa;一方でリビルド時は、&amp;#xa;_childが既に入っており、&amp;#xa;updateChildの方で、build結果と&amp;#xa;_child.widgetが同一かどうか&amp;#xa;で処理が分岐している。&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0000FF;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-245&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;170&quot; width=&quot;183&quot; height=&quot;280&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Y-dn0jyy1r7T7T8OJnPv-246&quot; value=&quot;StatelessElement&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2481&quot; y=&quot;-211&quot; width=&quot;210&quot; height=&quot;181&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxRectangle x=&quot;230&quot; y=&quot;140&quot; width=&quot;160&quot; height=&quot;26&quot; as=&quot;alternateBounds&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ii32QF8iiqosXWc2cwsE-262&quot; value=&quot;build()&amp;#xa;-&amp;gt; widget.build()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-246&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;26&quot; width=&quot;210&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ii32QF8iiqosXWc2cwsE-263&quot; value=&quot;update()&amp;#xa;-&amp;gt; super.update() &amp;#xa;-&amp;gt; rebuild()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=default;dashed=1;dashPattern=1 4;fontColor=#0000FF;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-246&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;66&quot; width=&quot;210&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Y-dn0jyy1r7T7T8OJnPv-254&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=10;endFill=0;shadow=0;strokeWidth=1;rounded=0;edgeStyle=orthogonalEdgeStyle;elbow=vertical;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;Y-dn0jyy1r7T7T8OJnPv-246&quot; target=&quot;Y-dn0jyy1r7T7T8OJnPv-245&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;2479.5&quot; y=&quot;-525&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;2479.5&quot; y=&quot;-414&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;2740&quot; y=&quot;-150&quot; /&gt;&#10;              &lt;mxPoint x=&quot;2740&quot; y=&quot;-150&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Y-dn0jyy1r7T7T8OJnPv-255&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=10;endFill=0;shadow=0;strokeWidth=1;rounded=0;edgeStyle=orthogonalEdgeStyle;elbow=vertical;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;Y-dn0jyy1r7T7T8OJnPv-245&quot; target=&quot;Y-dn0jyy1r7T7T8OJnPv-214&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;2561&quot; y=&quot;-424&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;2719.5&quot; y=&quot;-529&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;3120&quot; y=&quot;-410&quot; /&gt;&#10;              &lt;mxPoint x=&quot;3120&quot; y=&quot;-410&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Y-dn0jyy1r7T7T8OJnPv-257&quot; value=&quot;&quot; style=&quot;endArrow=block;endSize=10;endFill=0;shadow=0;strokeWidth=1;rounded=0;edgeStyle=orthogonalEdgeStyle;elbow=vertical;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;Y-dn0jyy1r7T7T8OJnPv-247&quot; target=&quot;Y-dn0jyy1r7T7T8OJnPv-245&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;2479.5&quot; y=&quot;-504&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;2479.5&quot; y=&quot;-414&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;2530&quot; y=&quot;-470&quot; /&gt;&#10;              &lt;mxPoint x=&quot;2530&quot; y=&quot;-470&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Y-dn0jyy1r7T7T8OJnPv-247&quot; value=&quot;StatefulElement&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2480&quot; y=&quot;-640&quot; width=&quot;210&quot; height=&quot;416&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxRectangle x=&quot;1930&quot; y=&quot;379&quot; width=&quot;160&quot; height=&quot;26&quot; as=&quot;alternateBounds&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ii32QF8iiqosXWc2cwsE-130&quot; value=&quot;State&amp;lt;StatefulWidget&amp;gt;? state&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;labelBorderColor=none;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-247&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;26&quot; width=&quot;210&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ii32QF8iiqosXWc2cwsE-291&quot; value=&quot;build()&amp;#xa;-&amp;gt; state.build()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-247&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;52&quot; width=&quot;210&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-180&quot; value=&quot;_firstBuild()&amp;#xa;-&amp;gt; state.initState()&amp;#xa;-&amp;gt; state.didChangeDependencies()&amp;#xa;-&amp;gt; super._firstBuild()&amp;#xa;&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1;fontSize=11;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-247&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;92&quot; width=&quot;210&quot; height=&quot;78&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vKYpmd6kE1I39g6U454Y-1&quot; value=&quot;update(StatefulWidget newWidget)&amp;#xa;-&amp;gt; super.update(newWidget)&amp;#xa;-&amp;gt; final StatefulWidget oldWidget &amp;#xa;= state._widget&amp;#xa;-&amp;gt; state._widget = &amp;#xa;widget as StatefulWidget;&amp;#xa;-&amp;gt; state.didUpdateWidget(oldWidget)&amp;#xa;-&amp;gt; performRebuild()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=0;fontColor=#0000FF;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-247&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;170&quot; width=&quot;210&quot; height=&quot;128&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;aORVRlQRTu14uhbAhM1--216&quot; value=&quot;performRebuild()&amp;#xa;-&amp;gt; if _didChangeDependencies&amp;#xa;state.didChangeDependencies();&amp;#xa;_didChangeDependencies = false;&amp;#xa;-&amp;gt; super.performRebuild()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=0;fontColor=#0000FF;strokeColor=default;dashed=1;dashPattern=1 4;&quot; parent=&quot;Y-dn0jyy1r7T7T8OJnPv-247&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;298&quot; width=&quot;210&quot; height=&quot;92&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-183&quot; style=&quot;edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;oGguG-V30oukFdamDVHH-5&quot; target=&quot;Y-dn0jyy1r7T7T8OJnPv-246&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;2340&quot; y=&quot;-100&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-184&quot; value=&quot;生成&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontStyle=1&quot; parent=&quot;oGguG-V30oukFdamDVHH-183&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.1262&quot; y=&quot;-2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-5&quot; value=&quot;abstract StatelessWidget&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;fillColor=#e1d5e7;strokeColor=#9673a6;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2040&quot; y=&quot;-168&quot; width=&quot;160&quot; height=&quot;96&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxRectangle x=&quot;230&quot; y=&quot;140&quot; width=&quot;160&quot; height=&quot;26&quot; as=&quot;alternateBounds&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-6&quot; value=&quot;createElement()&amp;#xa;-&amp;gt; StatelessElement()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1&quot; parent=&quot;oGguG-V30oukFdamDVHH-5&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;26&quot; width=&quot;160&quot; height=&quot;44&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-7&quot; value=&quot;build(BuildContext)&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=5&quot; parent=&quot;oGguG-V30oukFdamDVHH-5&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;70&quot; width=&quot;160&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-12&quot; style=&quot;edgeStyle=elbowEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;oGguG-V30oukFdamDVHH-14&quot; target=&quot;oGguG-V30oukFdamDVHH-17&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-13&quot; value=&quot;生成&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontStyle=1&quot; parent=&quot;oGguG-V30oukFdamDVHH-12&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.2333&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-11&quot; y=&quot;8&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-186&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;oGguG-V30oukFdamDVHH-14&quot; target=&quot;Y-dn0jyy1r7T7T8OJnPv-247&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;2270&quot; y=&quot;-610&quot; /&gt;&#10;              &lt;mxPoint x=&quot;2270&quot; y=&quot;-610&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-187&quot; value=&quot;生成&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;oGguG-V30oukFdamDVHH-186&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.3063&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-14&quot; value=&quot;abstract StatefulWidget&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;fillColor=#e1d5e7;strokeColor=#9673a6;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2050&quot; y=&quot;-634&quot; width=&quot;160&quot; height=&quot;96&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxRectangle x=&quot;230&quot; y=&quot;140&quot; width=&quot;160&quot; height=&quot;26&quot; as=&quot;alternateBounds&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-15&quot; value=&quot;createElement()&amp;#xa;-&amp;gt; StatefulElement()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1&quot; parent=&quot;oGguG-V30oukFdamDVHH-14&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;26&quot; width=&quot;160&quot; height=&quot;44&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-16&quot; value=&quot;State createState()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=5&quot; parent=&quot;oGguG-V30oukFdamDVHH-14&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;70&quot; width=&quot;160&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-17&quot; value=&quot;abstract State&amp;#xa;&amp;lt;T extends StatefulWidget&amp;gt;&quot; style=&quot;swimlane;fontStyle=2;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=36;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;fillColor=#e1d5e7;strokeColor=#9673a6;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2260&quot; y=&quot;-584&quot; width=&quot;180&quot; height=&quot;348&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxRectangle x=&quot;230&quot; y=&quot;140&quot; width=&quot;160&quot; height=&quot;26&quot; as=&quot;alternateBounds&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-18&quot; value=&quot;initState()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;36&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-19&quot; value=&quot;didUpdateWidget()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#0000FF;&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;62&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-20&quot; value=&quot;reassemble()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;88&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-21&quot; value=&quot;setState()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;114&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-22&quot; value=&quot;deactivate()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;140&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-23&quot; value=&quot;activate()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;166&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-24&quot; value=&quot;dispose()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;192&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-25&quot; value=&quot;Widget build(BuildContext)&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=5&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;218&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-26&quot; value=&quot;didChangeDependencies()&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=1&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;244&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-27&quot; value=&quot;T widget&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;270&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-28&quot; value=&quot;BuildContext context&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;296&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-29&quot; value=&quot;StatefulElement _element&quot; style=&quot;text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;&quot; parent=&quot;oGguG-V30oukFdamDVHH-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;322&quot; width=&quot;180&quot; height=&quot;26&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-167&quot; value=&quot;StatefulElement&quot; style=&quot;whiteSpace=wrap;html=1;verticalAlign=middle;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2300&quot; y=&quot;-168&quot; width=&quot;100&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-168&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;endArrow=diamondThin;endFill=1;endSize=24;html=1;rounded=0;fillColor=#d5e8d4;strokeColor=#82b366;&quot; parent=&quot;WIyWlLk6GJQsqaUBKTNV-1&quot; source=&quot;oGguG-V30oukFdamDVHH-167&quot; target=&quot;oGguG-V30oukFdamDVHH-17&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;160&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;3891&quot; y=&quot;509&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;3942&quot; y=&quot;124&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;oGguG-V30oukFdamDVHH-169&quot; value=&quot;BuildContext&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;oGguG-V30oukFdamDVHH-168&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.1322&quot; y=&quot;3&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;21&quot; y=&quot;17&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs><clipPath id="mx-clip-976-121-480-44-0"><rect x="976" y="121" width="480" height="44"/></clipPath><clipPath id="mx-clip-976-165-480-80-0"><rect x="976" y="165" width="480" height="80"/></clipPath><clipPath id="mx-clip-976-245-480-58-0"><rect x="976" y="245" width="480" height="58"/></clipPath><clipPath id="mx-clip-976-303-480-74-0"><rect x="976" y="303" width="480" height="74"/></clipPath><clipPath id="mx-clip-976-377-480-340-0"><rect x="976" y="377" width="480" height="340"/></clipPath><clipPath id="mx-clip-976-717-480-120-0"><rect x="976" y="717" width="480" height="120"/></clipPath><clipPath id="mx-clip-737-121-175-34-0"><rect x="737" y="121" width="175" height="34"/></clipPath><clipPath id="mx-clip-737-155-175-68-0"><rect x="737" y="155" width="175" height="68"/></clipPath><clipPath id="mx-clip-737-223-175-42-0"><rect x="737" y="223" width="175" height="42"/></clipPath><clipPath id="mx-clip-737-265-175-280-0"><rect x="737" y="265" width="175" height="280"/></clipPath><clipPath id="mx-clip-465-550-202-40-0"><rect x="465" y="550" width="202" height="40"/></clipPath><clipPath id="mx-clip-465-590-202-50-0"><rect x="465" y="590" width="202" height="50"/></clipPath><clipPath id="mx-clip-464-121-202-26-0"><rect x="464" y="121" width="202" height="26"/></clipPath><clipPath id="mx-clip-464-147-202-40-0"><rect x="464" y="147" width="202" height="40"/></clipPath><clipPath id="mx-clip-464-187-202-78-0"><rect x="464" y="187" width="202" height="78"/></clipPath><clipPath id="mx-clip-464-265-202-128-0"><rect x="464" y="265" width="202" height="128"/></clipPath><clipPath id="mx-clip-464-393-202-92-0"><rect x="464" y="393" width="202" height="92"/></clipPath><clipPath id="mx-clip-24-593-152-44-0"><rect x="24" y="593" width="152" height="44"/></clipPath><clipPath id="mx-clip-24-637-152-26-0"><rect x="24" y="637" width="152" height="26"/></clipPath><clipPath id="mx-clip-34-127-152-44-0"><rect x="34" y="127" width="152" height="44"/></clipPath><clipPath id="mx-clip-34-171-152-26-0"><rect x="34" y="171" width="152" height="26"/></clipPath><clipPath id="mx-clip-244-187-172-26-0"><rect x="244" y="187" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-213-172-26-0"><rect x="244" y="213" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-239-172-26-0"><rect x="244" y="239" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-265-172-26-0"><rect x="244" y="265" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-291-172-26-0"><rect x="244" y="291" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-317-172-26-0"><rect x="244" y="317" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-343-172-26-0"><rect x="244" y="343" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-369-172-26-0"><rect x="244" y="369" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-395-172-26-0"><rect x="244" y="395" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-421-172-26-0"><rect x="244" y="421" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-447-172-26-0"><rect x="244" y="447" width="172" height="26"/></clipPath><clipPath id="mx-clip-244-473-172-26-0"><rect x="244" y="473" width="172" height="26"/></clipPath></defs><g><rect x="0" y="0" width="1510" height="1020" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1508px; height: 1px; padding-top: 7px; margin-left: 1px;"><div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">widgets/framework</div></div></div></foreignObject><text x="755" y="19" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">widgets/framework</text></switch></g><path d="M 972 116 L 972 90 L 1460 90 L 1460 116" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><path d="M 972 116 L 972 1010 L 1460 1010 L 1460 116" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 972 116 L 1460 116" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px"><text x="1215.5" y="107.5">abstract Element</text></g><rect x="972" y="116" width="488" height="44" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" clip-path="url(#mx-clip-976-121-480-44-0)" font-size="12px"><text x="977.5" y="133.5">mount()</text><text x="977.5" y="147.5">..., _lifecycleState = _ElementLifecycle.active, ...</text></g><rect x="972" y="160" width="488" height="80" fill="none" stroke="none" pointer-events="all"/><g fill="#0000FF" font-family="Helvetica" clip-path="url(#mx-clip-976-165-480-80-0)" font-size="12px"><text x="977.5" y="177.5">rebuild()</text><text x="977.5" y="191.5">-&gt; lifecycleがactiveではない</text><text x="977.5" y="205.5">または（!dirty &amp;&amp; !force)の場合は</text><text x="977.5" y="219.5">return</text><text x="977.5" y="233.5">-&gt; performRebuild()</text></g><rect x="972" y="240" width="488" height="58" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="#0000FF" font-family="Helvetica" clip-path="url(#mx-clip-976-245-480-58-0)" font-size="12px"><text x="977.5" y="257.5">performRebuild() -&gt; _dirty = false;</text><text x="977.5" y="271.5">※派生クラスでオーバーライドする際は最後にsuper.peformRebuild()して本処理を</text><text x="977.5" y="285.5">実行してdirtyをfalseとする使用方法が典型となる。</text></g><rect x="972" y="298" width="488" height="74" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="#0000FF" font-family="Helvetica" clip-path="url(#mx-clip-976-303-480-74-0)" font-size="12px"><text x="977.5" y="315.5">update(covariant Widget newWidget)</text><text x="977.5" y="329.5">-&gt; _widget = newWidget;</text><text x="977.5" y="343.5">* これによってwidgetプロパティが</text><text x="977.5" y="357.5">新しいものに変わる。</text></g><rect x="972" y="372" width="488" height="340" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="#0000FF" font-family="Helvetica" clip-path="url(#mx-clip-976-377-480-340-0)" font-size="12px"><text x="977.5" y="389.5">updateChild(Element? child,</text><text x="977.5" y="403.5">Widget? newWidget, Object? newSlot</text><text x="977.5" y="417.5">)</text><text x="977.5" y="431.5">1. newWidgetがnullでchildがnullではないならdeactivateChild(child), nullを返す</text><text x="977.5" y="445.5">final Element newChild</text><text x="977.5" y="459.5">2. if child != null</text><text x="977.5" y="473.5">* assertでhotreload対策が入っている（省略）</text><text x="977.5" y="487.5">2.1 if child.widget == newWidget</text><text x="977.5" y="501.5">updateSlotForChild()</text><text x="977.5" y="515.5">newChild = child</text><text x="977.5" y="529.5">2.2 if child.widget != newWidget </text><text x="977.5" y="543.5">&amp;&amp; Widget.canUpdate(child.widget, newWidget)</text><text x="977.5" y="557.5">updateSlotForChild(), child.update(newWidget)</text><text x="977.5" y="571.5">newChild = child</text><text x="977.5" y="585.5">2.3 else </text><text x="977.5" y="599.5">deactivateChild(child),  newChild = inflateWidget(newWidget, newSlot)</text><text x="977.5" y="613.5">3. childがnullなら</text><text x="977.5" y="627.5">newChild = inflateWidget(newWidget, newSlot)</text><text x="977.5" y="641.5">4. 最後にnewChildを返す。</text><text x="977.5" y="655.5">* この関数はmount時もリビルド時も使用される?</text><text x="977.5" y="669.5">* 2.1, 2.2, 2.3 あたりは咀嚼できていない。</text><text x="977.5" y="683.5">なお、子をconstで指定していると親のリビルド時に2.1を通ることが確認できた。</text><text x="977.5" y="697.5">そうではない場合は2.2を通る。</text></g><rect x="972" y="712" width="488" height="120" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="#0000FF" font-family="Helvetica" clip-path="url(#mx-clip-976-717-480-120-0)" font-size="12px"><text x="977.5" y="729.5">canUpdate()</text><text x="977.5" y="743.5">-&gt; return</text><text x="977.5" y="757.5">oldWidget.runtimeType == </text><text x="977.5" y="771.5">newWidget.runtimeType</text><text x="977.5" y="785.5">        &amp;&amp; oldWidget.key == newWidget.key</text><text x="977.5" y="799.5">* コメントにも記載してあるがkeyがnullの場合は、オブジェクトが異なっていても</text><text x="977.5" y="813.5">runtimeTypeが同じであればupdate可能と扱われる。</text></g><path d="M 733.09 116 L 733.09 90 L 916.09 90 L 916.09 116" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><path d="M 733.09 116 L 733.09 640 L 916.09 640 L 916.09 116" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 733.09 116 L 916.09 116" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px"><text x="824.09" y="107.5">abstract ComponentElement</text></g><rect x="733.09" y="116" width="183" height="34" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-decoration="underline" clip-path="url(#mx-clip-737-121-175-34-0)" font-size="12px"><text x="738.59" y="133.5">Widget build()</text></g><rect x="733.09" y="150" width="183" height="68" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" clip-path="url(#mx-clip-737-155-175-68-0)" font-size="12px"><text x="738.59" y="167.5">mount</text><text x="738.59" y="181.5">-&gt; super.mount()</text><text x="738.59" y="195.5">-&gt; _firstBuild()</text></g><rect x="733.09" y="218" width="183" height="42" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" clip-path="url(#mx-clip-737-223-175-42-0)" font-size="12px"><text x="738.59" y="235.5">_firstBuild()</text><text x="738.59" y="249.5">-&gt; rebuild()</text></g><rect x="733.09" y="260" width="183" height="280" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="#0000FF" font-family="Helvetica" clip-path="url(#mx-clip-737-265-175-280-0)" font-size="12px"><text x="738.59" y="277.5">performRebuild()</text><text x="738.59" y="291.5">-&gt; build()</text><text x="738.59" y="305.5">-&gt; super.performReBuild()</text><text x="738.59" y="319.5">-&gt; _child = updateChild(</text><text x="738.59" y="333.5">_child, built, slot)</text><text x="738.59" y="347.5">※ buildの結果のウィジェット</text><text x="738.59" y="361.5">がupdateChildに渡される。</text><text x="738.59" y="375.5">mount時は、</text><text x="738.59" y="389.5">updateChild(null, build結果,</text><text x="738.59" y="403.5">slot)といった形で渡す。</text><text x="738.59" y="417.5">内部ではinflateWIdget()が</text><text x="738.59" y="431.5">呼ばれるため、build結果の</text><text x="738.59" y="445.5">Elementがmountがされる。</text><text x="738.59" y="459.5">一方でリビルド時は、</text><text x="738.59" y="473.5">_childが既に入っており、</text><text x="738.59" y="487.5">updateChildの方で、build結果と</text><text x="738.59" y="501.5">_child.widgetが同一かどうか</text><text x="738.59" y="515.5">で処理が分岐している。</text></g><path d="M 461 545 L 461 519 L 671 519 L 671 545" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><path d="M 461 545 L 461 700 L 671 700 L 671 545" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 461 545 L 671 545" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px"><text x="565.5" y="536.5">StatelessElement</text></g><rect x="461" y="545" width="210" height="40" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" clip-path="url(#mx-clip-465-550-202-40-0)" font-size="12px"><text x="466.5" y="562.5">build()</text><text x="466.5" y="576.5">-&gt; widget.build()</text></g><rect x="461" y="585" width="210" height="50" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="#0000FF" font-family="Helvetica" clip-path="url(#mx-clip-465-590-202-50-0)" font-size="12px"><text x="466.5" y="602.5">update()</text><text x="466.5" y="616.5">-&gt; super.update() </text><text x="466.5" y="630.5">-&gt; rebuild()</text></g><path d="M 671 580 L 720 580 L 720.97 580" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 731.97 580 L 720.97 585.5 L 720.97 574.5 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><path d="M 916.09 365 L 959.88 365" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 970.88 365 L 959.88 370.5 L 959.88 359.5 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><path d="M 670 298 L 720.97 298" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 731.97 298 L 720.97 303.5 L 720.97 292.5 Z" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><path d="M 460 116 L 460 90 L 670 90 L 670 116" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><path d="M 460 116 L 460 506 L 670 506 L 670 116" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 460 116 L 670 116" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px"><text x="564.5" y="107.5">StatefulElement</text></g><rect x="460" y="116" width="210" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-464-121-202-26-0)" font-size="12px"><text x="465.5" y="133.5">State&lt;StatefulWidget&gt;? state</text></g><rect x="460" y="142" width="210" height="40" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" clip-path="url(#mx-clip-464-147-202-40-0)" font-size="12px"><text x="465.5" y="159.5">build()</text><text x="465.5" y="173.5">-&gt; state.build()</text></g><rect x="460" y="182" width="210" height="78" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" clip-path="url(#mx-clip-464-187-202-78-0)" font-size="11px"><text x="465.5" y="198.5">_firstBuild()</text><text x="465.5" y="211.5">-&gt; state.initState()</text><text x="465.5" y="224.5">-&gt; state.didChangeDependencies()</text><text x="465.5" y="237.5">-&gt; super._firstBuild()</text></g><rect x="460" y="260" width="210" height="128" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="#0000FF" font-family="Helvetica" clip-path="url(#mx-clip-464-265-202-128-0)" font-size="12px"><text x="465.5" y="277.5">update(StatefulWidget newWidget)</text><text x="465.5" y="291.5">-&gt; super.update(newWidget)</text><text x="465.5" y="305.5">-&gt; final StatefulWidget oldWidget </text><text x="465.5" y="319.5">= state._widget</text><text x="465.5" y="333.5">-&gt; state._widget = </text><text x="465.5" y="347.5">widget as StatefulWidget;</text><text x="465.5" y="361.5">-&gt; state.didUpdateWidget(oldWidget)</text><text x="465.5" y="375.5">-&gt; performRebuild()</text></g><rect x="460" y="388" width="210" height="92" fill="none" stroke="rgb(0, 0, 0)" stroke-dasharray="1 4" pointer-events="all"/><g fill="#0000FF" font-family="Helvetica" clip-path="url(#mx-clip-464-393-202-92-0)" font-size="12px"><text x="465.5" y="405.5">performRebuild()</text><text x="465.5" y="419.5">-&gt; if _didChangeDependencies</text><text x="465.5" y="433.5">state.didChangeDependencies();</text><text x="465.5" y="447.5">_didChangeDependencies = false;</text><text x="465.5" y="461.5">-&gt; super.performRebuild()</text></g><path d="M 180 630 L 320 630 L 454.63 630" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 459.88 630 L 452.88 633.5 L 454.63 630 L 452.88 626.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 633px; margin-left: 338px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">生成</div></div></div></foreignObject><text x="338" y="636" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">生成</text></switch></g><path d="M 20 588 L 20 562 L 180 562 L 180 588" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="all"/><path d="M 20 588 L 20 658 L 180 658 L 180 588" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><path d="M 20 588 L 180 588" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px"><text x="99.5" y="579.5">abstract StatelessWidget</text></g><rect x="20" y="588" width="160" height="44" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" clip-path="url(#mx-clip-24-593-152-44-0)" font-size="12px"><text x="25.5" y="605.5">createElement()</text><text x="25.5" y="619.5">-&gt; StatelessElement()</text></g><rect x="20" y="632" width="160" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-decoration="underline" clip-path="url(#mx-clip-24-637-152-26-0)" font-size="12px"><text x="25.5" y="649.5">build(BuildContext)</text></g><path d="M 190 144 L 215.44 144 L 215.44 320 L 233.63 320" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 238.88 320 L 231.88 323.5 L 233.63 320 L 231.88 316.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 266px; margin-left: 205px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">生成</div></div></div></foreignObject><text x="205" y="269" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">生成</text></switch></g><path d="M 190 120 L 250 120 L 453.63 120" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 458.88 120 L 451.88 123.5 L 453.63 120 L 451.88 116.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 120px; margin-left: 284px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">生成</div></div></div></foreignObject><text x="284" y="123" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">生成</text></switch></g><path d="M 30 122 L 30 96 L 190 96 L 190 122" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="all"/><path d="M 30 122 L 30 192 L 190 192 L 190 122" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 122 L 190 122" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px"><text x="109.5" y="113.5">abstract StatefulWidget</text></g><rect x="30" y="122" width="160" height="44" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" clip-path="url(#mx-clip-34-127-152-44-0)" font-size="12px"><text x="35.5" y="139.5">createElement()</text><text x="35.5" y="153.5">-&gt; StatefulElement()</text></g><rect x="30" y="166" width="160" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-decoration="underline" clip-path="url(#mx-clip-34-171-152-26-0)" font-size="12px"><text x="35.5" y="183.5">State createState()</text></g><path d="M 240 182 L 240 146 L 420 146 L 420 182" fill="#e1d5e7" stroke="#9673a6" stroke-miterlimit="10" pointer-events="all"/><path d="M 240 182 L 240 494 L 420 494 L 420 182" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 182 L 420 182" fill="none" stroke="#9673a6" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-style="italic" text-anchor="middle" font-size="12px"><text x="329.5" y="163.5">abstract State</text><text x="329.5" y="177.5">&lt;T extends StatefulWidget&gt;</text></g><rect x="240" y="182" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" clip-path="url(#mx-clip-244-187-172-26-0)" font-size="12px"><text x="245.5" y="199.5">initState()</text></g><rect x="240" y="208" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="#0000FF" font-family="Helvetica" clip-path="url(#mx-clip-244-213-172-26-0)" font-size="12px"><text x="245.5" y="225.5">didUpdateWidget()</text></g><rect x="240" y="234" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-244-239-172-26-0)" font-size="12px"><text x="245.5" y="251.5">reassemble()</text></g><rect x="240" y="260" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-244-265-172-26-0)" font-size="12px"><text x="245.5" y="277.5">setState()</text></g><rect x="240" y="286" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-244-291-172-26-0)" font-size="12px"><text x="245.5" y="303.5">deactivate()</text></g><rect x="240" y="312" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-244-317-172-26-0)" font-size="12px"><text x="245.5" y="329.5">activate()</text></g><rect x="240" y="338" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-244-343-172-26-0)" font-size="12px"><text x="245.5" y="355.5">dispose()</text></g><rect x="240" y="364" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" text-decoration="underline" clip-path="url(#mx-clip-244-369-172-26-0)" font-size="12px"><text x="245.5" y="381.5">Widget build(BuildContext)</text></g><rect x="240" y="390" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" clip-path="url(#mx-clip-244-395-172-26-0)" font-size="12px"><text x="245.5" y="407.5">didChangeDependencies()</text></g><rect x="240" y="416" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-244-421-172-26-0)" font-size="12px"><text x="245.5" y="433.5">T widget</text></g><rect x="240" y="442" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-244-447-172-26-0)" font-size="12px"><text x="245.5" y="459.5">BuildContext context</text></g><rect x="240" y="468" width="180" height="26" fill="none" stroke="none" pointer-events="all"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" clip-path="url(#mx-clip-244-473-172-26-0)" font-size="12px"><text x="245.5" y="485.5">StatefulElement _element</text></g><rect x="280" y="562" width="100" height="40" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 582px; margin-left: 281px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">StatefulElement</div></div></div></foreignObject><text x="330" y="586" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">StatefulElement</text></switch></g><path d="M 330 562 L 330 519.99" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 330 494.99 L 337.35 507.49 L 330 519.99 L 322.65 507.49 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 541px; margin-left: 349px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">BuildContext</div></div></div></foreignObject><text x="349" y="544" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">BuildContext</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>